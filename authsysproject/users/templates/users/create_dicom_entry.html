<!DOCTYPE html>
<html>
<head>
    <title>Create DICOM Entry</title>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
</head>

<body class="bg-light">

<div class="container py-4">
       <!-- SUCCESS / ERROR MESSAGE DISPLAY -->
    {% if messages %}
    <div class="mt-2">
        {% for message in messages %}
            <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                {{ message }}
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
        {% endfor %}
    </div>
    {% endif %}
    
    <div class="card shadow-sm">
        <div class="card-header bg-primary text-white">
            <h3 class="mb-0">Create DICOM Data Entry</h3>
        </div>

        <div class="card-body">
            <form method="POST" enctype="multipart/form-data">
                {% csrf_token %}

                <h5 class="mb-3">DICOM Details</h5>

                <!-- ▼▼▼ ADD THIS PART ▼▼▼ -->
                <datalist id="modality_list">
                    <option value="DX">
                    <option value="CR">
                    <option value="MR">
                    <option value="CT">
                    <option value="PR">
                    <option value="SR">
                    <option value="OTHER">
                </datalist>

                <datalist id="institution_list">
                    <option value="Prudent">
                    <option value="OTHER">
                </datalist>
                <datalist id="body_part_examined_list">
                    <option value="OTHER">
                                    <option value="">-- Select Body Part --</option>
                  <option value="XRAY">XRAY</option>
                  <option value="Brain">Brain</option>
                  <option value="W.Abdomen">W.Abdomen</option>
                  <option value="Chest">Chest</option>
                  <option value="MSK">MSK</option>
                  <option value="Spine">Spine</option>
                  <option value="Brain+Face">Brain+Face</option>
                  <option value="Abdomen">Abdomen</option>
                  <option value="Kub">Kub</option>
                  <option value="Face">Face</option>
                  <option value="TP Bone">TP Bone</option>
                  <option value="Spine+WSS">Spine+WSS</option>
                  <option value="Neck">Neck</option>
                  <option value="Pelvis">Pelvis</option>
                  <option value="PNS">PNS</option>
                  <option value="Chest+Abdomen">Chest+Abdomen</option>
                  <option value="Brain+Orbit">Brain+Orbit</option>
                  <option value="WS">WS</option>
                  <option value="Brain+Spine">Brain+Spine</option>
                  <option value="Uro">Uro</option>
                  <option value="Brain+Angio">Brain+Angio</option> 
                  <option value="Brain+Chest">Brain+Chest</option> 
                  <option value="Angio">Angio</option> 
                  <option value="Face+Brain+Orbit">Face+Brain+Orbit</option> 
                  <option value="Spine+MSK">Spine+MSK</option> 
                  <option value="Brain+WSS">Brain+WSS</option> 
                  <option value="Orbit">Orbit</option> 
                  <option value="Fistulogram">Fistulogram</option> 
                  <option value="Brain+Face+Orbit">Brain+Face+Orbit</option> 
                  <option value="CT+Chest">CT+Chest</option> 
                  <option value="MRCP">MRCP</option> 
                  <option value="Brain+Angio+Neck">Brain+Angio+Neck</option> 
                  <option value="Neck+Brain">Neck+Brain</option> 
                  <option value="Spine+Chest">Spine+Chest</option> 
                  <option value="Angio+Neck">Angio+Neck</option> 
                  <option value="Brain+Orbit+Face">Brain+Orbit+Face</option> 
                  <option value="CT+Brain">CT+Brain</option> 
                  <option value="Chest+Spine">Chest+Spine</option> 
                  <option value="MR Angio">MR Angio</option> 
                  <option value="Brain+Orbit+Angio">Brain+Orbit+Angio</option> 
                  <option value="CNS">CNS</option> 
                  <option value="Abdomen+Pelvis">Abdomen+Pelvis</option> 
                  <option value="Brain+MSK">Brain+MSK</option> 
                  <option value="COW">COW</option> 
                  <option value="Orbit+Face">Orbit+Face</option> 
                  <option value="Orbit+Brain">Orbit+Brain</option> 
                  <option value="Angiogram">Angiogram</option> 
                  <option value="Angio+Chest">Angio+Chest</option> 
                  <option value="Whole Abdomen">Whole Abdomen</option> 
                  <option value="Knee">Knee</option> 
                  <option value="Shoulder">Shoulder</option> 
                  <option value="Ankle">Ankle</option> 
                  <option value="Wrist">Wrist</option> 
                  <option value="Hip">Hip</option> 
                  <option value="Elbow">Elbow</option> 
                  <option value="Foot">Foot</option> 
                  <option value="Hand">Hand</option> 
                  <option value="Leg">Leg</option> 
                  <option value="Forearm">Forearm</option> 
                  <option value="Thigh">Thigh</option> 
                  <option value="Cervical">Cervical</option> 
                  <option value="Thoracic">Thoracic</option> 
                  <option value="Lumbar">Lumbar</option> 
                  <option value="Sacrum">Sacrum</option> 
                  <option value="SI Joint">SI Joint</option> 
                  <option value="Chest+Pelvis">Chest+Pelvis</option> 
                  <option value="Face+Orbit">Face+Orbit</option> 
                  <option value="Orbit+Neck">Orbit+Neck</option> 
                  <option value="Head+Neck">Head+Neck</option> 
                  <option value="Brain+Orbit+Neck">Brain+Orbit+Neck</option> 
                  <option value="Brain+Orbit+Spine">Brain+Orbit+Spine</option> 
                  <option value="Angio+Brain">Angio+Brain</option> 
                  <option value="Orbit+Chest">Orbit+Chest</option> 
                  <option value="Orbit+Pelvis">Orbit+Pelvis</option> 
                  <option value="Chest+Orbit">Chest+Orbit</option> 
                  <option value="Orbit+Abdomen">Orbit+Abdomen</option> 
                  <option value="Orbit+Spine">Orbit+Spine</option> 
                  <option value="Orbit+MSK">Orbit+MSK</option> 
                  <option value="Orbit+Uro">Orbit+Uro</option> 
                  <option value="Orbit+Face+Brain">Orbit+Face+Brain</option> 
                  <option value="Orbit+Brain+Neck">Orbit+Brain+Neck</option> 
                  <option value="Orbit+Brain+Spine">Orbit+Brain+Spine</option> 
                  <option value="Orbit+Brain+MSK">Orbit+Brain+MSK</option> 
                  <option value="Orbit+Brain+Uro">Orbit+Brain+Uro</option> 
                  <option value="Orbit+Brain+Chest">Orbit+Brain+Chest</option> 
                  <option value="Orbit+Brain+Pelvis">Orbit+Brain+Pelvis</option> 
                  <option value="Orbit+Brain+Abdomen">Orbit+Brain+Abdomen</option> 
                  <option value="Orbit+Brain+WS">Orbit+Brain+WS</option> 
                  <option value="Orbit+Brain+WSS">Orbit+Brain+WSS</option> 
                  <option value="Orbit+Brain+Face">Orbit+Brain+Face</option> 
                  <option value="Orbit+Brain+Angio">Orbit+Brain+Angio</option> 
                  <option value="Orbit+Brain+Angiogram">Orbit+Brain+Angiogram</option> 
                  <option value="Orbit+Brain+CT">Orbit+Brain+CT</option> 
                  <option value="Orbit+Brain+MRCP">Orbit+Brain+MRCP</option> 
                  <option value="Orbit+Brain+COW">Orbit+Brain+COW</option> 
                  <option value="Orbit+Brain+MR Angio">Orbit+Brain+MR Angio</option> 
                  <option value="Orbit+Brain+TP Bone">Orbit+Brain+TP Bone</option>
                </datalist>

                <!-- ▲▲▲ END ADDED PART ▲▲▲ -->

                <div class="row g-3">
                    {% for field in form %}
                        <div class="col-md-6">
                            <label class="form-label">{{ field.label }}</label>
                            {{ field }}
                            {% if field.errors %}
                                <div class="text-danger small">{{ field.errors }}</div>
                            {% endif %}
                        </div>
                    {% endfor %}
                </div>

                <hr class="my-4">

                <h5 class="mb-3">Upload Patient History Files</h5>
                <p class="text-muted">You can upload multiple files</p>

                {{ formset.management_form }}
                <div class="row g-3">
                    {% for f in formset %}
                        <div class="col-md-4">
                            {{ f.history_file }}
                        </div>
                    {% endfor %}
                </div>

                <div class="mt-4 text-end">
                    <button type="submit" class="btn btn-primary px-4">Submit</button>
                </div>

            </form>
        </div>
    </div>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
